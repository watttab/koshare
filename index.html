<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="Ko Share ‚Äî ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÅ‡∏´‡∏•‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ ‡∏™‡∏Å‡∏£.‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡πÇ‡∏Å‡∏™‡∏∏‡∏°‡∏û‡∏¥‡∏™‡∏±‡∏¢">
    <meta name="theme-color" content="#0f172a">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <!-- Open Graph -->
    <meta property="og:title" content="Ko Share ‚Äî ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÅ‡∏´‡∏•‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ">
    <meta property="og:description" content="‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û ‡∏õ‡∏±‡∏Å‡∏´‡∏°‡∏∏‡∏î ‡∏™‡∏£‡πâ‡∏≤‡∏á QR Code ‡πÅ‡∏ä‡∏£‡πå‡πÅ‡∏´‡∏•‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏á‡πà‡∏≤‡∏¢‡πÜ">
    <meta property="og:type" content="website">

    <title>Ko Share üìç ‚Äî ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÅ‡∏´‡∏•‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" />

    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- App CSS -->
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- ============ HEADER ============ -->
    <header class="app-header">
        <div class="header-brand">
            <span class="header-pin">üìç</span>
            <h1 class="header-title">Ko Share</h1>
        </div>
        <div class="header-actions">
            <button class="header-auth-btn" id="headerLoginBtn" onclick="showLoginModal()" title="‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö">
                üîí
            </button>
            <button class="header-auth-btn header-auth-logged" id="headerLogoutBtn" onclick="logout()"
                style="display:none" title="‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö">
                üîì
            </button>

        </div>
    </header>

    <!-- ============ MAIN CONTENT ============ -->
    <main class="app-main">
        <!-- HOME PAGE -->
        <section class="page active" id="pageHome">
            <div class="home-hero">
                <div class="hero-glow"></div>
                <div class="hero-content">
                    <div class="hero-icon">üìç</div>
                    <h2 class="hero-title">Ko Share</h2>
                    <p class="hero-subtitle">‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÅ‡∏´‡∏•‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ<br>‡∏™‡∏Å‡∏£.‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡πÇ‡∏Å‡∏™‡∏∏‡∏°‡∏û‡∏¥‡∏™‡∏±‡∏¢</p>
                </div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">üì∏</div>
                    <div class="stat-value" id="statLocations">0</div>
                    <div class="stat-label">‡πÅ‡∏´‡∏•‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üëÅÔ∏è</div>
                    <div class="stat-value" id="statVisits">0</div>
                    <div class="stat-label">‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ä‡∏°</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üì§</div>
                    <div class="stat-value" id="statShares">0</div>
                    <div class="stat-label">‡πÅ‡∏ä‡∏£‡πå‡πÅ‡∏•‡πâ‡∏ß</div>
                </div>
            </div>

            <div class="quick-actions">
                <button class="action-btn primary-action" onclick="navigateTo('capture')">
                    <span class="action-icon">üì∑</span>
                    <span class="action-text">‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û & ‡∏õ‡∏±‡∏Å‡∏´‡∏°‡∏∏‡∏î</span>
                </button>
            </div>

            <!-- Recent Check-ins -->
            <div class="section-header">
                <h3>üìå ‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</h3>
            </div>
            <div class="gallery" id="homeGallery">
                <div class="empty-state">
                    <span>üèûÔ∏è</span>
                    <p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‚Äî ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û‡πÄ‡∏•‡∏¢!</p>
                </div>
            </div>
        </section>

        <!-- CAPTURE PAGE -->
        <section class="page" id="pageCapture">
            <div class="capture-container">
                <!-- Step 1: Photo -->
                <div class="capture-step" id="stepPhoto">
                    <div class="step-header">
                        <span class="step-number">1</span>
                        <h3>üì∑ ‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà</h3>
                    </div>
                    <div class="photo-area" id="photoArea">
                        <div class="photo-placeholder" id="photoPlaceholder">
                            <span class="placeholder-icon">üì∑</span>
                            <p>‡πÅ‡∏ï‡∏∞‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û</p>
                        </div>
                        <img id="photoPreview" class="photo-preview" style="display:none">
                        <input type="file" id="cameraInput" accept="image/*" capture="environment" style="display:none">
                    </div>
                    <div class="photo-actions">
                        <button class="btn btn-outline" onclick="document.getElementById('cameraInput').click()">
                            üì∑ ‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û
                        </button>
                        <button class="btn btn-outline" onclick="document.getElementById('galleryInput').click()">
                            üñºÔ∏è ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡πÅ‡∏Å‡∏•‡πÄ‡∏•‡∏≠‡∏£‡∏µ
                        </button>
                        <input type="file" id="galleryInput" accept="image/*" style="display:none">
                    </div>
                </div>

                <!-- Step 2: GPS -->
                <div class="capture-step" id="stepGPS">
                    <div class="step-header">
                        <span class="step-number">2</span>
                        <h3>üìç ‡∏õ‡∏±‡∏Å‡∏´‡∏°‡∏∏‡∏î‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</h3>
                    </div>
                    <div class="gps-status" id="gpsStatus">
                        <div class="gps-waiting">
                            <div class="gps-spinner"></div>
                            <p>‡∏£‡∏≠‡∏£‡∏±‡∏ö‡∏û‡∏¥‡∏Å‡∏±‡∏î GPS...</p>
                        </div>
                    </div>
                    <button class="btn btn-primary" id="btnGetGPS" onclick="getGPSLocation()">
                        üìç ‡∏õ‡∏±‡∏Å‡∏´‡∏°‡∏∏‡∏î‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á GPS
                    </button>
                    <div class="gps-info" id="gpsInfo" style="display:none">
                        <div class="gps-coords">
                            <span class="coord-label">Lat:</span>
                            <span class="coord-value" id="latValue">‚Äî</span>
                            <span class="coord-label">Lng:</span>
                            <span class="coord-value" id="lngValue">‚Äî</span>
                        </div>
                        <div id="miniMap" class="mini-map"></div>
                    </div>
                </div>

                <!-- Step 3: Text -->
                <div class="capture-step" id="stepText">
                    <div class="step-header">
                        <span class="step-number">3</span>
                        <h3>‚úèÔ∏è ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</h3>
                    </div>
                    <div class="text-inputs">
                        <div class="input-group">
                            <label>‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ó‡∏µ‡πà 1 (‡∏Ñ‡∏á‡∏ó‡∏µ‡πà)</label>
                            <input type="text" class="text-input" id="textLine1" value="‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÅ‡∏´‡∏•‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ" readonly>
                        </div>
                        <div class="input-group">
                            <label>‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ó‡∏µ‡πà 2 (‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà)</label>
                            <input type="text" class="text-input" id="textLine2"
                                placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ß‡∏±‡∏î‡∏™‡∏∏‡∏ß‡∏£‡∏£‡∏ì‡∏≤‡∏ß‡∏≤‡∏™, ‡∏ï‡∏•‡∏≤‡∏î‡πÇ‡∏Å‡∏™‡∏∏‡∏°‡∏û‡∏¥‡∏™‡∏±‡∏¢...">
                        </div>
                        <div class="input-group">
                            <label>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö)</label>
                            <input type="text" class="text-input" id="textDescription" placeholder="‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏±‡πâ‡∏ô‡πÜ...">
                        </div>
                        <div class="input-group">
                            <label>‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</label>
                            <select class="text-input" id="categorySelect">
                                <option value="‡πÅ‡∏´‡∏•‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ">üìö ‡πÅ‡∏´‡∏•‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ</option>
                                <option value="‡∏ß‡∏±‡∏î">üèõÔ∏è ‡∏ß‡∏±‡∏î</option>
                                <option value="‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô">üè´ ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</option>
                                <option value="‡∏ï‡∏•‡∏≤‡∏î">üè™ ‡∏ï‡∏•‡∏≤‡∏î</option>
                                <option value="‡∏™‡∏ß‡∏ô‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞">üå≥ ‡∏™‡∏ß‡∏ô‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞</option>
                                <option value="‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£">üè¢ ‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£</option>
                                <option value="‡∏≠‡∏∑‡πà‡∏ô‡πÜ">üìç ‡∏≠‡∏∑‡πà‡∏ô‡πÜ</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label>‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏•‡πà‡∏≤‡∏á (‡∏Ñ‡∏á‡∏ó‡∏µ‡πà)</label>
                            <input type="text" class="text-input" id="textLine3" value="‡∏™‡∏Å‡∏£.‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡πÇ‡∏Å‡∏™‡∏∏‡∏°‡∏û‡∏¥‡∏™‡∏±‡∏¢"
                                readonly>
                        </div>
                    </div>
                </div>

                <!-- Step 4: Preview & Action -->
                <div class="capture-step" id="stepPreview">
                    <div class="step-header">
                        <span class="step-number">4</span>
                        <h3>üñºÔ∏è ‡∏†‡∏≤‡∏û‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏ä‡∏£‡πå</h3>
                    </div>
                    <button class="btn btn-primary btn-generate" id="btnGenerate" onclick="generateImage()">
                        ‚ú® ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏†‡∏≤‡∏û‡πÅ‡∏ä‡∏£‡πå
                    </button>

                    <!-- Image Composer (hidden, used for rendering) -->
                    <div class="composer-wrapper" id="composerWrapper" style="display:none">
                        <div class="composer" id="imageComposer">
                            <div class="composer-photo" id="composerPhoto"></div>
                            <div class="composer-overlay">
                                <div class="composer-top">
                                    <div class="composer-line1" id="composerLine1">‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÅ‡∏´‡∏•‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ</div>
                                    <div class="composer-line2" id="composerLine2">‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà</div>
                                </div>
                                <div class="composer-bottom">
                                    <div class="composer-bottom-right">
                                        <div class="composer-qr" id="composerQR"></div>
                                        <div class="composer-footer-text">
                                            <div class="composer-scan-text">‡∏™‡πÅ‡∏Å‡∏ô QR ‡∏î‡∏π‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á</div>
                                            <div class="composer-line3" id="composerLine3">‡∏™‡∏Å‡∏£.‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡πÇ‡∏Å‡∏™‡∏∏‡∏°‡∏û‡∏¥‡∏™‡∏±‡∏¢
                                            </div>
                                            <div class="composer-brand">üìç Ko Share</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Generated Image Preview -->
                    <div class="preview-area" id="previewArea" style="display:none">
                        <img id="generatedImage" class="generated-image">

                        <!-- SAVE TO MAP (prominent, first action) -->
                        <button class="btn-save-map-hero" onclick="saveToMap()">
                            <span class="save-icon">üìå</span>
                            <span class="save-text">
                                <strong>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà</strong>
                                <small>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏†‡∏≤‡∏û‡∏•‡∏á‡∏£‡∏∞‡∏ö‡∏ö</small>
                            </span>
                        </button>

                        <div class="share-divider"><span>‡πÅ‡∏ä‡∏£‡πå‡∏†‡∏≤‡∏û</span></div>

                        <div class="share-actions">
                            <button class="btn btn-success" onclick="downloadImage()">
                                üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏†‡∏≤‡∏û
                            </button>
                            <button class="btn btn-primary" onclick="shareImage()">
                                üì§ ‡πÅ‡∏ä‡∏£‡πå
                            </button>
                            <button class="btn btn-outline" onclick="shareToFacebook()">
                                <svg class="share-icon" viewBox="0 0 24 24">
                                    <path
                                        d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z" />
                                </svg>
                                Facebook
                            </button>
                            <button class="btn btn-outline btn-line" onclick="shareToLine()">
                                <svg class="share-icon" viewBox="0 0 24 24">
                                    <path
                                        d="M19.365 9.863c.349 0 .63.285.63.631 0 .345-.281.63-.63.63H17.61v1.125h1.755c.349 0 .63.283.63.63 0 .344-.281.629-.63.629h-2.386c-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.627-.63h2.386c.349 0 .63.285.63.63 0 .349-.281.63-.63.63H17.61v1.125h1.755zm-3.855 3.016c0 .27-.174.51-.432.596-.064.021-.133.031-.199.031-.211 0-.391-.09-.51-.25l-2.443-3.317v2.94c0 .344-.279.629-.631.629-.346 0-.626-.285-.626-.629V8.108c0-.27.173-.51.43-.595.06-.023.136-.033.194-.033.195 0 .375.104.495.254l2.462 3.33V8.108c0-.345.282-.63.63-.63.345 0 .63.285.63.63v4.771zm-5.741 0c0 .344-.282.629-.631.629-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.627-.63.349 0 .631.285.631.63v4.771zm-2.466.629H4.917c-.345 0-.63-.285-.63-.629V8.108c0-.345.285-.63.63-.63.348 0 .63.285.63.63v4.141h1.756c.348 0 .629.283.629.63 0 .344-.282.629-.629.629M24 10.314C24 4.943 18.615.572 12 .572S0 4.943 0 10.314c0 4.811 4.27 8.842 10.035 9.608.391.082.923.258 1.058.59.12.301.079.766.038 1.08l-.164 1.02c-.045.301-.24 1.186 1.049.645 1.291-.539 6.916-4.078 9.436-6.975C23.176 14.393 24 12.458 24 10.314" />
                                </svg>
                                LINE
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- MAP PAGE -->
        <section class="page" id="pageMap">
            <div class="map-header">
                <h3>üó∫Ô∏è ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏´‡∏•‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ</h3>
                <p class="map-subtitle">‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ó‡∏µ‡πà‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û‡πÑ‡∏ß‡πâ</p>
            </div>
            <div id="mainMap" class="main-map"></div>
            <div class="map-legend">
                <div class="legend-item">
                    <span class="legend-pin">üìç</span>
                    <span>‡πÅ‡∏´‡∏•‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡πâ‡∏ß</span>
                </div>
            </div>
        </section>

        <!-- GALLERY PAGE -->
        <section class="page" id="pageGallery">
            <div class="gallery-header">
                <h3>üì∏ ‡πÅ‡∏Å‡∏•‡πÄ‡∏•‡∏≠‡∏£‡∏µ‡πÅ‡∏´‡∏•‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ</h3>
                <p class="gallery-count" id="galleryCount"></p>
            </div>
            <!-- Search Bar -->
            <div class="gallery-search">
                <span class="search-icon">üîç</span>
                <input type="text" id="gallerySearch" class="search-input" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà..."
                    oninput="filterGallery()">
                <button class="search-clear" id="searchClear" onclick="clearSearch()" style="display:none">‚úï</button>
            </div>
            <!-- Gallery Grid -->
            <div class="gallery-grid" id="galleryGrid">
                <div class="empty-state">
                    <span>üèûÔ∏è</span>
                    <p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</p>
                </div>
            </div>
            <!-- Pagination -->
            <div class="gallery-pagination" id="galleryPagination" style="display:none">
                <button class="page-btn" id="btnPrevPage" onclick="changePage(-1)">‚óÄ ‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤</button>
                <span class="page-info" id="pageInfo">1 / 1</span>
                <button class="page-btn" id="btnNextPage" onclick="changePage(1)">‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‚ñ∂</button>
            </div>
        </section>
    </main>

    <!-- ============ BOTTOM NAVIGATION ============ -->
    <nav class="bottom-nav">
        <button class="nav-item active" data-page="home" onclick="navigateTo('home')">
            <span class="nav-icon">üè†</span>
            <span class="nav-label">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</span>
        </button>
        <button class="nav-item" data-page="capture" onclick="navigateTo('capture')">
            <span class="nav-icon">üì∑</span>
            <span class="nav-label">‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û</span>
        </button>
        <button class="nav-item" data-page="map" onclick="navigateTo('map')">
            <span class="nav-icon">üó∫Ô∏è</span>
            <span class="nav-label">‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà</span>
        </button>
        <button class="nav-item" data-page="gallery" onclick="navigateTo('gallery')">
            <span class="nav-icon">üì∏</span>
            <span class="nav-label">‡πÅ‡∏Å‡∏•‡πÄ‡∏•‡∏≠‡∏£‡∏µ</span>
        </button>
    </nav>

    <!-- ============ LOADING OVERLAY ============ -->
    <div class="loading-overlay" id="loadingOverlay" style="display:none">
        <div class="loading-spinner"></div>
        <p class="loading-text" id="loadingText">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£...</p>
    </div>

    <!-- ============ TOAST ============ -->
    <div class="toast" id="toast"></div>

    <!-- ============ LOGIN MODAL ============ -->
    <div class="login-modal" id="loginModal">
        <div class="login-backdrop" onclick="hideLoginModal()"></div>
        <div class="login-card">
            <div class="login-header">
                <span class="login-icon">üîê</span>
                <h2>‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</h2>
                <p>‡∏Å‡∏£‡∏≠‡∏Å PIN ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</p>
            </div>
            <div class="login-form">
                <input type="password" id="pinInput" class="pin-input" placeholder="‚óè ‚óè ‚óè ‚óè" maxlength="6"
                    inputmode="numeric" pattern="[0-9]*" autocomplete="off"
                    onkeydown="if(event.key==='Enter')submitLogin()">
                <div class="login-error" id="loginError"></div>
                <button class="btn-login" id="loginBtn" onclick="submitLogin()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
                <button class="btn-login-cancel" onclick="hideLoginModal()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
            </div>
        </div>
    </div>

    <!-- ============ SCRIPTS ============ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>
    <script src="app.js"></script>
</body>

</html>